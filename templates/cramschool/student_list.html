<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>學生資料列表</title>
    <!-- 引入 tailwindcss  -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <!-- {% load static %}
    <link rel="stylesheet" href="{% static 'css/app.css' %}">    -->
</head>
<script>
    const defaultTheme = require('tailwindcss/defaultTheme');

    module.exports = {
        theme: {
            extend: {
                fontFamily: {
                    // 將微軟正黑體放在預設 sans-serif 堆疊的第一個
                    sans: ['"Microsoft JhengHei"', '"微軟正黑體"', ...defaultTheme.fontFamily.sans],
                }
            },
        },
        // ...
    }
</script>

<body>
    <div class="container mx-auto p-4">
        <h1 class="text-2xl font-bold mb-4">學生資料列表</h1>
        <a href="{% url 'student_add' %}"
            class="mb-4 inline-block bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">新增學生資料</a>

        <table class="min-w-full bg-white border border-gray-300">
            <thead>
                <tr>
                    <th class="py-2 px-4 border-b border-gray-300">姓名</th>
                    <th class="py-2 px-4 border-b border-gray-300">學校</th>
                    <th class="py-2 px-4 border-b border-gray-300">年級</th>
                    <th class="py-2 px-4 border-b border-gray-300">聯絡方式</th>
                    <th class="py-2 px-4 border-b border-gray-300">備註</th>
                    <th class="py-2 px-4 border-b border-gray-300">操作</th>
                </tr>
            </thead>
            <tbody>
                {% for student in students %}
                <tr>
                    <td class="py-2 px-4 border-b border-gray-300">{{ student.name }}</td>
                    <td class="py-2 px-4 border-b border-gray-300">{{ student.school }}</td>
                    <td class="py-2 px-4 border-b border-gray-300">{{ student.grade }}</td>
                    <td class="py-2 px-4 border-b border-gray-300">{{ student.contact }}</td>
                    <td class="py-2 px-4 border-b border-gray-300">{{ student.notes }}</td>
                    <td class="py-2 px-4 border-b border-gray-300">
                        <a href="{% url 'student_update' student.id %}"
                            class="bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600">編輯</a>

                        <form action="{% url 'student_delete' student.id %}" method="post" class="inline-block ml-1">
                            {% csrf_token %}
                            <button type="submit" class="bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600"
                                onclick="return confirm('確定要刪除學生 {{ student.name }} 的資料嗎？這個操作無法復原。')">
                                刪除
                            </button>
                        </form>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="6" class="py-2 px-4 text-center">目前沒有學生資料。</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>

</html>