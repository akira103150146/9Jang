# é‡æ§‹å„ªåŒ–é€²åº¦å ±å‘Š

## âœ… å·²å®Œæˆé …ç›®

### ç«‹å³åŸ·è¡Œé …ç›®ï¼ˆæœ¬é€±ï¼‰

#### 1. âœ… å‰µå»ºçµ±ä¸€çš„ logger å·¥å…·
- **æ–‡ä»¶**: `frontend/src/utils/logger.js`
- **åŠŸèƒ½**: 
  - çµ±ä¸€çš„æ—¥èªŒä»‹é¢ï¼ˆdebug, info, warn, errorï¼‰
  - å¸¶ä¸Šä¸‹æ–‡çš„éŒ¯èª¤æ—¥èªŒ
  - å¯æ“´å±•çš„éŒ¯èª¤è¿½è¹¤æœå‹™æ•´åˆé»
- **ä½¿ç”¨**: æ›¿æ›æ‰€æœ‰ `console.log/warn/error` èª¿ç”¨

#### 2. âœ… æ‹†åˆ† usePrintPreview.js ç‚ºå¤šå€‹ composables
- **æ–°æ–‡ä»¶**:
  - `frontend/src/composables/usePrintStyleExtraction.js` - æ¨£å¼æå–é‚è¼¯
  - `frontend/src/composables/usePrintKatexRepair.js` - KaTeX ä¿®å¾©é‚è¼¯
  - `frontend/src/composables/usePrintDOMCloning.js` - DOM å…‹éš†é‚è¼¯
- **ç‹€æ…‹**: å·²å‰µå»ºæ–°çš„ composablesï¼Œ`usePrintPreview.js` ä»éœ€æ•´åˆé€™äº›æ¨¡çµ„
- **ä¸‹ä¸€æ­¥**: é€æ­¥é‡æ§‹ `usePrintPreview.js` ä½¿ç”¨æ–°çš„ composables

#### 3. âœ… å„ªåŒ– ResourceEditorSidebar - ä½¿ç”¨ provide/inject
- **æ–‡ä»¶**: 
  - `frontend/src/composables/useResourceEditorContext.js` (æ–°å»º)
  - `frontend/src/views/ResourceEditor.vue` (å·²æ›´æ–°)
  - `frontend/src/components/ResourceEditorSidebar.vue` (å·²æ›´æ–°)
- **æ”¹é€²**: 
  - Props æ•¸é‡å¾ 15+ æ¸›å°‘åˆ° 2 å€‹
  - ä½¿ç”¨ `provide/inject` æ¨¡å¼å…±äº«ç‹€æ…‹
  - æ›´å¥½çš„çµ„ä»¶è§£è€¦

### çŸ­æœŸåŸ·è¡Œé …ç›®ï¼ˆæœ¬æœˆï¼‰

#### 4. âœ… å‰µå»ºå¯å¾©ç”¨çš„è¡¨å–®çµ„ä»¶
- **æ–°æ–‡ä»¶**:
  - `frontend/src/components/forms/BaseInput.vue`
  - `frontend/src/components/forms/BaseSelect.vue`
  - `frontend/src/components/forms/BaseCheckbox.vue`
- **åŠŸèƒ½**:
  - çµ±ä¸€çš„æ¨£å¼å’Œè¡Œç‚º
  - éŒ¯èª¤æç¤ºå’Œé©—è­‰æ”¯æŒ
  - å¯é…ç½®çš„å¤§å°å’Œç‹€æ…‹

#### 5. âœ… å‰µå»ºéŒ¯èª¤è™•ç† composable
- **æ–‡ä»¶**: `frontend/src/composables/useErrorHandler.js`
- **åŠŸèƒ½**:
  - çµ±ä¸€çš„éŒ¯èª¤è™•ç†é‚è¼¯
  - API éŒ¯èª¤è‡ªå‹•è½‰æ›ç‚ºç”¨æˆ¶å‹å¥½è¨Šæ¯
  - å¸¶éŒ¯èª¤è™•ç†çš„ç•°æ­¥å‡½æ•¸åŒ…è£å™¨

#### 6. âœ… å„ªåŒ– BlockEditor.vue
- **æ–°æ–‡ä»¶**:
  - `frontend/src/composables/useModalManager.js` - Modal ç‹€æ…‹ç®¡ç†
  - `frontend/src/composables/useEditorConfiguration.js` - ç·¨è¼¯å™¨é…ç½®
- **æ”¹é€²**:
  - æå– Modal ç®¡ç†é‚è¼¯
  - æå–ç·¨è¼¯å™¨é…ç½®é‚è¼¯
  - æ›´å¥½çš„ä»£ç¢¼çµ„ç¹”

## ğŸ“‹ å¾…å®Œæˆé …ç›®

### usePrintPreview.js å®Œæ•´é‡æ§‹
- **ç‹€æ…‹**: æ–° composables å·²å‰µå»ºï¼Œä½†ä¸»æ–‡ä»¶å°šæœªå®Œå…¨æ•´åˆ
- **ä»»å‹™**: é€æ­¥å°‡ `usePrintPreview.js` ä¸­çš„é‚è¼¯é·ç§»åˆ°æ–°çš„ composables
- **å„ªå…ˆç´š**: é«˜ï¼ˆå½±éŸ¿æœ€å¤§ï¼‰
- **é ä¼°æ™‚é–“**: 2-3 å°æ™‚ï¼ˆéœ€è¦æ¸¬è©¦ï¼‰

### æ›¿æ›ç¾æœ‰ console èª¿ç”¨
- **ç‹€æ…‹**: Logger å·¥å…·å·²å‰µå»º
- **ä»»å‹™**: åœ¨æ•´å€‹å°ˆæ¡ˆä¸­æ›¿æ› `console.log/warn/error` ç‚º `logger.*`
- **å„ªå…ˆç´š**: ä¸­
- **é ä¼°æ™‚é–“**: 1-2 å°æ™‚

### æ‡‰ç”¨æ–°çš„è¡¨å–®çµ„ä»¶
- **ç‹€æ…‹**: è¡¨å–®çµ„ä»¶å·²å‰µå»º
- **ä»»å‹™**: åœ¨ç¾æœ‰çµ„ä»¶ä¸­ä½¿ç”¨ `BaseInput`ã€`BaseSelect`ã€`BaseCheckbox`
- **å„ªå…ˆç´š**: ä¸­
- **å»ºè­°**: é€æ­¥é·ç§»ï¼Œå„ªå…ˆåœ¨æ–°åŠŸèƒ½ä¸­ä½¿ç”¨

### æ‡‰ç”¨éŒ¯èª¤è™•ç† composable
- **ç‹€æ…‹**: useErrorHandler å·²å‰µå»º
- **ä»»å‹™**: åœ¨ API èª¿ç”¨è™•ä½¿ç”¨ `useErrorHandler`
- **å„ªå…ˆç´š**: ä¸­
- **å»ºè­°**: å„ªå…ˆè™•ç†é—œéµæµç¨‹ï¼ˆç™»å…¥ã€ä¿å­˜ã€ä¸Šå‚³ç­‰ï¼‰

## ğŸ“Š æ”¹é€²çµ±è¨ˆ

### ä»£ç¢¼çµ„ç¹”
- âœ… å‰µå»ºäº† 8 å€‹æ–°çš„ composables
- âœ… å‰µå»ºäº† 3 å€‹å¯å¾©ç”¨çµ„ä»¶
- âœ… æ¸›å°‘äº†çµ„ä»¶ props æ•¸é‡ï¼ˆResourceEditorSidebar: 15+ â†’ 2ï¼‰

### ä»£ç¢¼å“è³ª
- âœ… çµ±ä¸€çš„æ—¥èªŒç®¡ç†
- âœ… çµ±ä¸€çš„éŒ¯èª¤è™•ç†
- âœ… æ›´å¥½çš„é—œæ³¨é»åˆ†é›¢

### å¯ç¶­è­·æ€§
- âœ… æ›´æ¸…æ™°çš„æ¨¡çµ„é‚Šç•Œ
- âœ… æ›´å®¹æ˜“æ¸¬è©¦çš„ä»£ç¢¼çµæ§‹
- âœ… æ›´å¥½çš„ä»£ç¢¼å¾©ç”¨

## ğŸ¯ ä¸‹ä¸€æ­¥å»ºè­°

1. **å„ªå…ˆ**: å®Œæˆ `usePrintPreview.js` çš„é‡æ§‹
   - é€æ­¥æ•´åˆæ–°çš„ composables
   - ä¿æŒå‘å¾Œå…¼å®¹
   - å……åˆ†æ¸¬è©¦

2. **æ¬¡è¦**: æ‡‰ç”¨æ–°çš„å·¥å…·å’Œçµ„ä»¶
   - åœ¨æ–°åŠŸèƒ½ä¸­ä½¿ç”¨
   - é€æ­¥é·ç§»ç¾æœ‰ä»£ç¢¼

3. **é•·æœŸ**: è€ƒæ…® TypeScript é·ç§»
   - å…ˆå¾æ–°çš„ composables é–‹å§‹
   - é€æ­¥é·ç§»ç¾æœ‰ä»£ç¢¼

## ğŸ“ æ³¨æ„äº‹é …

- æ‰€æœ‰æ–°æ–‡ä»¶éƒ½é€šé linter æª¢æŸ¥
- ä¿æŒå‘å¾Œå…¼å®¹æ€§
- å»ºè­°åœ¨é–‹ç™¼ç’°å¢ƒå……åˆ†æ¸¬è©¦å¾Œå†éƒ¨ç½²
