# NestJS 後端環境變數範例
# 複製此文件為 .env 並填入實際值

# ============================================
# 資料庫配置
# ============================================
# Prisma 使用標準的 DATABASE_URL 格式
# 格式: postgresql://[user]:[password]@[host]:[port]/[database]
# 
# 本地開發（PostgreSQL）:
DATABASE_URL=postgresql://postgres:password@localhost:5432/9jang_db

# Cloud SQL (GCP) - 使用 Unix Socket:
# DATABASE_URL=postgresql://user:password@/9jang_db?host=/cloudsql/PROJECT_ID:REGION:INSTANCE_NAME

# Cloud SQL (GCP) - 使用 TCP:
# DATABASE_URL=postgresql://user:password@127.0.0.1:5432/9jang_db?host=/cloudsql/PROJECT_ID:REGION:INSTANCE_NAME

# SQLite (僅開發測試):
# DATABASE_URL=file:./dev.db

# ============================================
# JWT 認證配置
# ============================================
# JWT 密鑰（必須與 Django 後端使用相同的密鑰以保持兼容）
JWT_SECRET=your-secret-key-here-change-in-production

# Access Token 有效期（小時）
JWT_ACCESS_TOKEN_LIFETIME_HOURS=1

# Refresh Token 有效期（天）
JWT_REFRESH_TOKEN_LIFETIME_DAYS=7

# ============================================
# 應用配置
# ============================================
# 服務端口
PORT=3000

# 環境模式: development | production | test
NODE_ENV=development

# 基礎 URL（用於生成媒體文件 URL）
BASE_URL=http://localhost:3000

# ============================================
# CORS 配置
# ============================================
# 允許的來源（逗號分隔）
# 開發環境:
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,http://127.0.0.1:5173,http://127.0.0.1:3000

# 生產環境範例:
# CORS_ORIGINS=https://your-frontend-domain.com,https://storage.googleapis.com

# ============================================
# GCP 配置（可選，僅生產環境需要）
# ============================================
# GCP_PROJECT_ID=your-project-id
# GCP_REGION=asia-east1
# USE_SECRET_MANAGER=false

# ============================================
# 媒體文件配置（可選）
# ============================================
# 如果使用 Cloud Storage:
# GS_BUCKET_NAME=your-project-id-media
# GS_PROJECT_ID=your-project-id
# MEDIA_URL=https://storage.googleapis.com/your-project-id-media/

# 如果使用本地存儲:
MEDIA_ROOT=./media
MEDIA_URL=/media/

# ============================================
# 時區和語言配置
# ============================================
# TIME_ZONE=Asia/Taipei
# LANGUAGE_CODE=zh-hant
